# darch 
Darch is a small tool allowing you to declarativelly install packages on Arch-based distributions. The goal is to make a full system configuration in one organised file, while still allowing to benefit from Arch's architecture.

- ðŸš€ automatically upgrades the system: pacman, flatpak and AUR (if AUR helper exists)
- ðŸ”™ saves the old configuration on success in case something goes wrong
- ðŸ¤– does all the initial setup for you, merging the configuration you've already done into /etc/sysconfig

<div align="center">
  <img width="728" height="412" alt="image" src="https://github.com/user-attachments/assets/9a720d6e-ce7b-4491-9d2e-8cdbb018ad2a" />
</div>

## Configuration
Configuration is a <s>JSON</s> **TOML** file located at `/etc/sysconfig` (back-up configuration at `/etc/sysconfig.old`). If it does not exist, it's generated automatically using output from `pacman -Qe` and your configuration files.

Example configuration:
```toml
autogenerated = [
    true,
    "All the packages retrieved from your pacman -Qe will be added to packages entry. All the shells from /etc/shells will be in shells entry.",
    "You can remove this config entry with explanations for a cleaner config.",
]
packages = [
    "rust", "linux", "linux-firmware", "base", "base-devel", "nano"
]
shells = [
    "/bin/sh", "/bin/bash", "/bin/rbash", "/usr/bin/sh", "/usr/bin/bash", "/usr/bin/rbash", "/usr/bin/systemd-home-fallback-shell", "/usr/bin/git-shell",
]

[[users]]
user = "gorciu"
groups = ["wheel", "docker"]
displayname = "The Gorciu User"
shell = "/usr/bin/bash"
```
